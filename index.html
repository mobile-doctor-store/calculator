<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Advanced online scientific calculator. Calculate math problems, including trigonometry, logarithms, and more.">
  <meta name="keywords" content="calculator, scientific calculator, online calculator, math, trigonometry, logarithm, calculator for students">
  <meta name="author" content="MobileDoctor">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph Tags -->
  <meta property="og:title" content="Advanced Scientific Calculator">
  <meta property="og:description" content="An advanced scientific calculator for solving complex math problems. Includes trigonometry, logarithms, and more!">
  <meta property="og:image" content="https://calculator.mobiledoctor.org.in/images/calculator-thumbnail.jpg">
  <meta property="og:url" content="https://calculator.mobiledoctor.org.in">
  
  <!-- Twitter Card Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Advanced Scientific Calculator">
  <meta name="twitter:description" content="Solve advanced math problems with this online scientific calculator.">
  <meta name="twitter:image" content="https://calculator.mobiledoctor.org.in/images/calculator-thumbnail.jpg">

  <!-- Canonical Link for SEO -->
  <link rel="canonical" href="https://calculator.mobiledoctor.org.in">
  
  <!-- Title -->
  <title>Advanced Scientific Calculator - Online Math Tool</title>

  <!-- Google AdSense Script -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2488763930939291" crossorigin="anonymous"></script>

  <style>
    :root {
      --primary-color: #4a6fa5;
      --secondary-color: #166088;
      --accent-color: #4cb5f5;
      --background-color: #f5f7fa;
      --display-bg: #f0f4f8;
      --button-bg: #ffffff;
      --button-hover: #e9eef4;
      --text-color: #333333;
      --border-color: #d1d9e6;
      --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .dark-mode {
      --primary-color: #5d7cab;
      --secondary-color: #1a6fa5;
      --accent-color: #5ac8fa;
      --background-color: #1a1a2e;
      --display-bg: #16213e;
      --button-bg: #2d3748;
      --button-hover: #4a5568;
      --text-color: #e2e8f0;
      --border-color: #4a5568;
      --shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background-color: var(--background-color);
      color: var(--text-color);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    header {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      text-align: center;
      padding: 1.5rem;
      box-shadow: var(--shadow);
    }

    h1 {
      font-size: 2.2rem;
      font-weight: 600;
    }

    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 2rem 1rem;
    }

    .calculator {
      width: 100%;
      max-width: 500px;
      background-color: var(--button-bg);
      border-radius: 12px;
      box-shadow: var(--shadow);
      overflow: hidden;
      margin-bottom: 2rem;
    }

    #display {
      width: 100%;
      min-height: 80px;
      padding: 1.5rem;
      font-size: 1.8rem;
      text-align: right;
      background-color: var(--display-bg);
      border: none;
      color: var(--text-color);
      outline: none;
      border-bottom: 1px solid var(--border-color);
    }

    .buttons {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 1px;
      background-color: var(--border-color);
    }

    button {
      border: none;
      padding: 1rem;
      font-size: 1.2rem;
      background-color: var(--button-bg);
      color: var(--text-color);
      cursor: pointer;
      transition: background-color 0.2s;
    }

    button:hover {
      background-color: var(--button-hover);
    }

    .operator {
      background-color: var(--primary-color);
      color: white;
    }

    .operator:hover {
      background-color: var(--secondary-color);
    }

    .equals {
      background-color: var(--accent-color);
      color: white;
      grid-column: span 2;
    }

    .equals:hover {
      opacity: 0.9;
    }

    .scientific {
      background-color: var(--secondary-color);
      color: white;
    }

    .scientific:hover {
      opacity: 0.9;
    }

    .history {
      padding: 1.5rem;
      border-top: 1px solid var(--border-color);
    }

    .history h3 {
      margin-bottom: 1rem;
      color: var(--primary-color);
    }

    #historyList {
      list-style-type: none;
      max-height: 200px;
      overflow-y: auto;
    }

    #historyList li {
      padding: 0.5rem 0;
      border-bottom: 1px solid var(--border-color);
      word-break: break-all;
    }

    .theme-toggle {
      width: 100%;
      padding: 1rem;
      background-color: var(--primary-color);
      color: white;
      border: none;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .theme-toggle:hover {
      background-color: var(--secondary-color);
    }

    footer {
      text-align: center;
      padding: 1.5rem;
      background-color: var(--primary-color);
      color: white;
    }

    @media (max-width: 600px) {
      .calculator {
        border-radius: 0;
      }
      
      button {
        padding: 0.8rem;
        font-size: 1rem;
      }
      
      #display {
        font-size: 1.5rem;
        padding: 1rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Advanced Scientific Calculator</h1>
  </header>
  
  <main>
    <div class="calculator">
      <input type="text" id="display" disabled placeholder="0">
      <div class="buttons">
        <button onclick="clearDisplay()" class="operator">AC</button>
        <button onclick="clearLast()" class="operator">C</button>
        <button onclick="appendToDisplay('%')" class="operator">%</button>
        <button onclick="appendToDisplay('/')" class="operator">/</button>
        
        <button onclick="appendToDisplay('7')">7</button>
        <button onclick="appendToDisplay('8')">8</button>
        <button onclick="appendToDisplay('9')">9</button>
        <button onclick="appendToDisplay('*')" class="operator">×</button>
        
        <button onclick="appendToDisplay('4')">4</button>
        <button onclick="appendToDisplay('5')">5</button>
        <button onclick="appendToDisplay('6')">6</button>
        <button onclick="appendToDisplay('-')" class="operator">-</button>
        
        <button onclick="appendToDisplay('1')">1</button>
        <button onclick="appendToDisplay('2')">2</button>
        <button onclick="appendToDisplay('3')">3</button>
        <button onclick="appendToDisplay('+')" class="operator">+</button>
        
        <button onclick="appendToDisplay('0')">0</button>
        <button onclick="appendToDisplay('.')">.</button>
        <button onclick="calculateResult()" class="equals">=</button>
        
        <button onclick="calculatePower()" class="scientific">x^y</button>
        <button onclick="calculateSquareRoot()" class="scientific">√</button>
        <button onclick="calculateSin()" class="scientific">sin</button>
        <button onclick="calculateCos()" class="scientific">cos</button>
        
        <button onclick="calculateTan()" class="scientific">tan</button>
        <button onclick="calculateLog()" class="scientific">log</button>
        <button onclick="calculateLn()" class="scientific">ln</button>
        <button onclick="appendToDisplay('(')" class="scientific">(</button>
        
        <button onclick="appendToDisplay(')')" class="scientific">)</button>
        <button onclick="calculateFactorial()" class="scientific">x!</button>
        <button onclick="calculatePi()" class="scientific">π</button>
        <button onclick="calculateE()" class="scientific">e</button>
      </div>
      <div class="history">
        <h3>History</h3>
        <ul id="historyList"></ul>
      </div>
      <button class="theme-toggle" onclick="toggleTheme()">Toggle Dark/Light Mode</button>
    </div>
  </main>
  
  <footer>
    <p>&copy; 2025 MobileDoctor. All rights reserved.</p>
  </footer>

  <script>
    // Get references to the display and history elements
    let display = document.getElementById('display');
    let historyList = document.getElementById('historyList');
    let currentExpression = '';
    let lastResult = '';

    // Append a character to the display
    function appendToDisplay(value) {
      if (display.value === '0' && value !== '.') {
        display.value = value;
      } else {
        display.value += value;
      }
      currentExpression = display.value;
    }

    // Clear the display
    function clearDisplay() {
      display.value = '0';
      currentExpression = '';
    }

    // Clear the last character from the display
    function clearLast() {
      if (display.value.length > 1) {
        display.value = display.value.slice(0, -1);
        currentExpression = display.value;
      } else {
        display.value = '0';
        currentExpression = '';
      }
    }

    // Safe calculation function to replace eval
    function calculate(expression) {
      try {
        // Replace functions and constants with JavaScript equivalents
        expression = expression.replace(/sin\(/g, 'Math.sin(');
        expression = expression.replace(/cos\(/g, 'Math.cos(');
        expression = expression.replace(/tan\(/g, 'Math.tan(');
        expression = expression.replace(/log\(/g, 'Math.log10(');
        expression = expression.replace(/ln\(/g, 'Math.log(');
        expression = expression.replace(/π/g, 'Math.PI');
        expression = expression.replace(/e/g, 'Math.E');
        expression = expression.replace(/\^/g, '**');
        expression = expression.replace(/√\(/g, 'Math.sqrt(');
        
        // Use Function constructor instead of eval for better security
        return new Function('return ' + expression)();
      } catch (e) {
        throw new Error('Invalid expression');
      }
    }

    // Calculate the result
    function calculateResult() {
      try {
        if (!currentExpression) return;
        
        let result = calculate(currentExpression);
        lastResult = result;
        
        // Add the calculation to history
        addToHistory(`${currentExpression} = ${result}`);
        
        display.value = result;
        currentExpression = result.toString();
      } catch (e) {
        display.value = 'Error';
        setTimeout(() => {
          display.value = currentExpression || '0';
        }, 1500);
      }
    }

    // Scientific functions
    function calculateSin() {
      appendToDisplay('sin(');
    }

    function calculateCos() {
      appendToDisplay('cos(');
    }

    function calculateTan() {
      appendToDisplay('tan(');
    }

    function calculateLog() {
      appendToDisplay('log(');
    }

    function calculateLn() {
      appendToDisplay('ln(');
    }

    function calculateSquareRoot() {
      appendToDisplay('√(');
    }

    function calculatePower() {
      if (display.value === '0') {
        display.value = '';
      }
      appendToDisplay('^');
    }

    function calculateFactorial() {
      try {
        let num = parseFloat(display.value);
        if (isNaN(num) || num < 0 || !Number.isInteger(num)) {
          throw new Error('Invalid input for factorial');
        }
        
        let result = 1;
        for (let i = 2; i <= num; i++) {
          result *= i;
        }
        
        addToHistory(`${num}! = ${result}`);
        display.value = result;
        currentExpression = result.toString();
      } catch (e) {
        display.value = 'Error';
        setTimeout(() => {
          display.value = currentExpression || '0';
        }, 1500);
      }
    }

    function calculatePi() {
      if (display.value === '0') {
        display.value = 'π';
      } else {
        appendToDisplay('π');
      }
    }

    function calculateE() {
      if (display.value === '0') {
        display.value = 'e';
      } else {
        appendToDisplay('e');
      }
    }

    // Add calculation to history
    function addToHistory(calculation) {
      let historyItem = document.createElement('li');
      historyItem.textContent = calculation;
      historyList.appendChild(historyItem);
      
      // Keep only the last 10 history items
      if (historyList.children.length > 10) {
        historyList.removeChild(historyList.firstChild);
      }
    }

    // Toggle between light and dark modes
    function toggleTheme() {
      document.body.classList.toggle('dark-mode');
      
      // Save theme preference to localStorage
      const isDarkMode = document.body.classList.contains('dark-mode');
      localStorage.setItem('darkMode', isDarkMode);
    }

    // Initialize theme from localStorage
    function initTheme() {
      const darkMode = localStorage.getItem('darkMode') === 'true';
      if (darkMode) {
        document.body.classList.add('dark-mode');
      }
    }

    // Initialize calculator
    function initCalculator() {
      initTheme();
      clearDisplay();
    }

    // Initialize when page loads
    window.onload = initCalculator;
  </script>
</body>
</html>
